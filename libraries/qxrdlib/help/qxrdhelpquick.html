<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>QXRD Quick Help</title>
  </head>

  <body>
    <h1>QXRD Quick Help : Getting Started</h1>

    <h2><a name=Select>Selecting the Detector Type</h2>

    <p>
      Before you do anything else - open the "Preferences" dialog and
      check that the detector type is selected correctly - it should
      be set to "Perkin Elmer Flat Panel".  If it is not set
      correctly, change it in the preferences dialog and click OK.
      You'll see a message that you need to restart QXRD before the
      changes take effect.
    </p>

    <h2><a name="Arrange">Arranging the QXRD Control Dialogs</h2>

    <p>
      When you first run qxrd you'll see the (rather overwhelming)
      'default' screen layout.
    </p>
    <p>
      The first thing you'll probably want to do is to rearrange the
      QXRD control dialogs into a more efficient arrangement.  You can
      do this by clicking and dragging on the title bars of the
      individual dialogs and stacking them all in two main
      groups on the right hand side of the screen, as shown below.
      You can drag each dialog into any of four areas around the border
      of the qxrd window, on top of another dialog (the dialogs will
      stack), alongside another dialog in the same border area, or as a
      floating window.
    </p>
    <p>
      You can also hide a dialog by clicking its close button or by
      choosing the corresponding command from the QXRD 'Windows' menu.
      If you hide a dialog you can re-show it by choosing it from the
      'Windows' menu.
    </p>

    <h2><a name="Suggested">Suggested Dialog Arrangement</h2>
    <p>
      A convenient arrangement for the control dialogs is to stack them
      on the right hand border of the main window.  If your screen is
      sufficiently large, stack the panels into two groups, or one
      group if on a smaller screen.
    </p>
    <p>
      <img src="images/qxrd-layout-scaled.png">
    </p>
    <p>
      QXRD will remember the panel arrangement and window size between
      runs.
    </p>

    <h2><a name="Acquire">Acquiring Test Images</h2>
    <p>
      Two dialogs are important for data acquisition, the
      'Acquire' dialog and the 'Correction' dialog.  The acquire dialog
      is concerned with the data acquisition process itself, with
      parameters such as the exposure time, number of images to
      acquire and output directory choice. The correction dialog is
      used to control what post processing steps are applied to the
      data after acquisition.  On a sufficiently fast system the
      correction steps are performed entirely in parallel with the
      acquisition steps, but on slower systems it may be desirable to
      omit some post processing steps to allow the acquisition to
      proceed at the maximum speed.
    </p>

    <h2><a name="Acquire">The Acquire Dialog</h2>
    <table border=0 cellpadding=5 width="100%">
	<tr>
          <td>
            <img src="images/acquire-dialog.png">
	  </td>
	</tr>
	<tr>
          <td>
	    <p>
              The 'Acquire' Dialog
	    </p>
	  </td>
    </table>
    <p>
      To acquire a test image set 'Skipped at Start', 'Skipped' and 
      'Pre Trigger' to zero, 'Dark Summed', 'Summed', 'Phases in Group' and 'Post Trigger' to one. Set
      the camera gain to the highest setting ('High 0.25 pF') and
      choose a value for the 'Exposure Time' (try 0.5 secs initially).
    </p>
    <p>
      Click the 'Select' button alongside the 'Output Directory'
      to open a file selection dialog - choose the directory where
      the test images should be stored.  Enter a test name in the
      'File Pattern' box - 'testing', perhaps.
    </p>
    <p>
      Close the X-ray shutter and measure a dark image by clicking
      the 'Dark' button, then open the shutter and measure a test
      image by clicking the 'Acquire' button.  The image should be
      displayed in the 'Image' tab.
    </p>

    <h2><a name="Display">The Display Dialog</h2>
    <table border=0 cellpadding=5 width="100%">
	<tr>
          <td>
            <img src="images/display-dialog.png">
	  </td>
	</tr>
	<tr>
          <td>
	    <p>
              The 'Display' Dialog
	    </p>
	  </td>
    </table>
    <p>
      The display dialog is used to control how acquired images
      are displayed. To set the program to automatically choose settings to display
      images choose 'Display based on percentiles of pixel counts' in
      the 'Display' panel.  Set 'Min (Percentile)' to 1% and 
      'Max (Percentile}' to 98%.
    </p>

    <h2><a name="Correction">The Correction Dialog</h2>
    <table border=0 cellpadding=5 width="100%">
	<tr>
	  <td>
            <img src="images/correction-dialog.png">
	  </td>
	</tr>
	<tr>
	  <td>
	    <p>
              The 'Correction' Dialog
	    </p>
	  </td>
	</tr>
    </table>

    <p>
      The 'Correction' dialog is used to control which of the available
      automatic processing steps are performed when images are
      acquired.  Alongside each step is an estimate of how long it is
      likely to take, averaged over the last 10 or so images - you can
      use these estimates to determine if you may need to skip some
      processing steps in order to maintain the desired acquisition
      data rate.
    </p>

    <p>
      The estimated times are measured when you run an acquire
      operation and a running average value is displayed in the dialog.
      Do an acquisition of 20 or so images to get decent values for
      the timings.  The timings may depend on other application
      parameters - for example the 'Oversampling Factor' strongly
      affects the integration time.  The estimated time per image
      attempts to allow for the number of CPU cores being used
      simultaneously, but may not be a very accurate estimate.
    </p>

    <p>
      Be careful which steps you choose to omit - you probably don't
      want to perform measurements where nothing is saved, so you'll
      probably want to keep at least one of the 'Save' steps.  A safe
      choice would be to choose all steps except the "Save images as
      text" step - this should give a total processing time of about
      0.5 seconds. The best choice for rapid data acquisition would be
      to save the 'raw' images and nothing else - you would then do
      the dark subtraction and integration in subsequent analysis.
    </p>

    <p>
      With a fast computer and fast disks it should be possible to
      acquire, save and integrate data at the maximum frame rate of 15
      frames/second.
    </p>
  </body>
</html>
